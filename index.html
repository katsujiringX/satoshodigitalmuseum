<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="最先端技術で歴史と文化を未来へ継承。">
    <meta name="keywords" content="デジタルミュージアム,バーチャルツアー,文化遺産,アーカイブ,3Dモデル,展示,里庄町歴史民俗資料館,歴史,民俗,資料館,里庄町">
    <title>里庄町歴史民俗資料館 | Satosho-cho Digital Museum</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@300;400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #1e40af;
            --secondary-color: #059669;
            --accent-color: #8b5cf6;
            --background-light: #f8fafc;
            --text-primary: #0f172a;
            --text-secondary: #475569;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans JP', 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            top: 0 !important; /* Google翻訳の余分なスタイルをリセット */
            position: static !important; /* 翻訳時の位置ずれを防止 */
        }
        
        /* 翻訳された要素のスタイル修正 */
        .translated-content * {
            font-family: 'Noto Sans JP', 'Inter', sans-serif !important;
        }
        
        /* Google翻訳要素の非表示と調整 */
        .goog-te-banner-frame,
        .skiptranslate,
        .goog-te-gadget-icon,
        .goog-te-menu-value span:nth-child(3),
        .goog-te-menu-value span:nth-child(5) {
            display: none !important;
        }
        
        /* Google翻訳ウィジェットを非表示 */
        #google_translate_element {
            position: absolute;
            top: -9999px;
            left: -9999px;
            height: 0;
            overflow: hidden;
        }
        
        /* 翻訳後のスタイル調整（レイアウト崩れ防止） */
        .goog-text-highlight {
            background-color: transparent !important;
            box-shadow: none !important;
        }
        
        /* 言語選択のカスタムスタイル */
        #custom-translate-wrapper {
            position: relative;
            z-index: 9999;
        }
        
        #language-selector {
            display: flex;
            align-items: center;
            height: 28px;
            padding: 0 10px;
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        #language-selector:hover {
            border-color: var(--primary-color);
            background-color: #f8fafc;
        }
        
        #language-selector-icon {
            color: var(--primary-color);
            margin-right: 5px;
            font-size: 14px;
        }
        
        #language-selector-text {
            font-size: 12px;
            font-weight: 500;
            color: #4b5563;
        }
        
        #language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 4px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            width: 160px;
            z-index: 10000;
            overflow: hidden;
            display: none;
        }
        
        #language-dropdown.show {
            display: block;
        }
        
        .language-option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .language-option:hover {
            background: #f1f5f9;
            color: var(--primary-color);
        }
        
        .language-flag {
            width: 20px;
            height: 14px;
            margin-right: 8px;
            object-fit: cover;
            border-radius: 2px;
        }
        
        /* ローディング画面 */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid #e5e7eb;
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ヒーローセクションのアニメーション */
        .hero-content {
            animation: fadeInUp 1s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* 改善されたスライダースタイル */
        .hero-slider {
            position: relative;
            width: 100%;
            height: 450px;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .slider-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.7) 100%);
        }
        
        .slider-content {
            position: absolute;
            bottom: 60px;
            left: 40px;
            right: 40px;
            color: white;
            z-index: 10;
        }
        
        .slider-dots {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 20;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .dot.active {
            background: white;
            transform: scale(1.2);
        }
        
        /* カードエフェクト */
        .card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        /* グラスモーフィズム効果 */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* 資料館紹介セクションの画像レイアウト */
        .image-composition {
            position: relative;
            height: 600px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .intro-image {
            position: absolute;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .intro-image:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }
        
        .intro-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .intro-image-1 {
            width: 55%;
            height: 65%;
            top: 5%;
            left: 0;
            z-index: 10;
        }
        
        .intro-image-2 {
            width: 55%;
            height: 65%;
            bottom: 5%;
            right: 0;
            z-index: 9;
        }
        
        .image-accent {
            position: absolute;
            background: var(--primary-color);
            opacity: 0.1;
            border-radius: 16px;
        }
        
        .accent-1 {
            width: 200px;
            height: 200px;
            top: 0;
            right: 20%;
            transform: rotate(45deg);
        }
        
        .accent-2 {
            width: 150px;
            height: 150px;
            bottom: 10%;
            left: 10%;
            transform: rotate(-30deg);
        }
        
        /* スマホ表示の改善 */
        @media (max-width: 640px) {
            body {
                overflow-x: hidden;
            }
            
            h1, h2, h3, h4, h5, h6, p, li, a {
                word-wrap: break-word;
                overflow-wrap: break-word;
                hyphens: auto;
            }
            
              .text-2xl {
                font-size: 1.5rem;
            }
            .text-3xl {
                font-size: 1.5rem;
            }
            
            .text-4xl {
                font-size: 1.75rem;
            }
            
            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .card p {
                font-size: 0.875rem;
                line-height: 1.4;
            }
            
            .card li {
                margin-bottom: 0.25rem;
                font-size: 0.875rem;
            }
            
            .slider-content {
                left: 20px;
                right: 20px;
                bottom: 40px;
            }
        }
        
        @media (max-width: 768px) {
            .hero-slider {
                height: 400px;
            }
            
            .image-composition {
                height: auto;
            }
            
            .intro-image {
                position: relative;
                width: 100% !important;
                height: 300px;
                margin-bottom: 20px;
            }
            
            .intro-image-1, .intro-image-2 {
                top: auto;
                left: auto;
                right: auto;
                bottom: auto;
            }
        }
        
        /* アニメーション効果 */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        /* カスタムスクロールバー */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* アクセシビリティ向上のためのフォーカスインジケーター */
        *:focus-visible {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }
        
        /* 言語切り替えボタン */
        .lang-switch {
            position: relative;
            cursor: pointer;
        }
        
        .lang-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            min-width: 150px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }
        
        .lang-switch:hover .lang-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(5px);
        }
        
        /* Cookie同意バナー */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #1e293b;
            color: white;
            padding: 1rem;
            z-index: 1000;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .cookie-banner.show {
            transform: translateY(0);
        }
        
        /* ダークモード対応 */
        .dark-mode {
            --background-light: #0f172a;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            background-color: #0f172a;
            color: #f8fafc;
        }
        
        .dark-mode .card {
            background: rgba(15, 23, 42, 0.9);
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        /* 統計カウンターアニメーション */
        .counter {
            font-family: 'Roboto Mono', monospace;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        /* プログレスバー */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            width: 0%;
            z-index: 9998;
            transition: width 0.3s ease;
        }
        
        /* アクセシビリティ - スキップリンク */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }
        
        .skip-link:focus {
            top: 0;
        }
        
        /* 翻訳フィードバック表示 */
        #translation-feedback {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 9999;
        }
        
        #translation-feedback.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
    
    <!-- 即時実行のGlobal Style Fix -->
    <script>
    (function() {
        // Google翻訳が引き起こすスタイルの問題を修正
        document.documentElement.style.overflowX = 'hidden';
        
        // スタイル調整用のCSS追加
        const styleEl = document.createElement('style');
        styleEl.textContent = `
            body {
                top: 0 !important;
                position: static !important;
            }
            
            .goog-te-banner-frame {
                display: none !important;
            }
            
            .goog-logo-link, .goog-logo-link:link, .goog-logo-link:visited, .goog-logo-link:hover, .goog-logo-link:active {
                display: none !important;
            }
            
            .goog-te-gadget {
                font-size: 0 !important;
            }
            
            .goog-te-gadget span, .goog-te-gadget img {
                display: none !important;
            }
        `;
        document.head.appendChild(styleEl);
    })();
    </script>
</head>
<body class="bg-gray-50 text-gray-900">
    <!-- ローディング画面 -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
        <p class="mt-4 text-lg font-semibold text-gray-600">読み込み中...</p>
    </div>
    
    <!-- プログレスバー -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- 翻訳フィードバック表示 -->
    <div id="translation-feedback"></div>
    
    <!-- スキップリンク (アクセシビリティ) -->
    <a href="#main-content" class="skip-link">メインコンテンツへスキップ</a>
    
    <!-- Cookie同意バナー -->
    <div class="cookie-banner" id="cookieBanner">
        <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between">
            <p class="mb-4 md:mb-0">
                <i class="fas fa-cookie-bite mr-2"></i>
                このサイトではCookieを使用して、最適な体験を提供しています。
            </p>
            <div class="flex gap-4">
                <button onclick="acceptCookies()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">同意する</button>
                <button onclick="declineCookies()" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors">拒否する</button>
            </div>
        </div>
    </div>
    
    <!-- ヘッダー -->
    <header class="fixed w-full top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16 sm:h-20">
                <!-- ロゴ -->
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <a href="index.html" class="flex items-center">
                            <i class="fas fa-museum text-2xl sm:text-3xl text-blue-700 mr-2 sm:mr-3"></i>
                            <div>
                                <h1 class="text-sm sm:text-base md:text-xl font-bold text-gray-900">里庄町歴史民俗資料館<span class="hidden md:inline">デジタルミュージアム</span></h1>
                                <p class="text-xs text-gray-600 hidden sm:block">Satosho-cho Digital Museum</p>
                            </div>
                        </a>
                    </div>
                </div>
                
                <!-- デスクトップナビゲーション -->
                <nav class="hidden lg:flex items-center space-x-8">
                    <div class="relative group">
                        <a href="#exhibitions" class="text-gray-700 hover:text-blue-700 px-3 py-2 font-medium transition-colors group">
                            展示
                            <i class="fas fa-chevron-down text-xs ml-1"></i>
                        </a>
                        <div class="absolute left-0 mt-2 w-64 bg-white rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform group-hover:translate-y-0 translate-y-2">
                            <a href="#virtual-tour" class="block px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-700">バーチャルツアー</a>
                            <a href="#3d-models" class="block px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-700">3Dコレクション</a>
                            <a href="#special-exhibitions" class="block px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-700">特別展示</a>
                        </div>
                    </div>
                    <a href="#research" class="text-gray-700 hover:text-blue-700 px-3 py-2 font-medium transition-colors">研究</a>
                    <a href="#education" class="text-gray-700 hover:text-blue-700 px-3 py-2 font-medium transition-colors">教育</a>
                    <a href="userguide.html" class="text-gray-700 hover:text-blue-700 px-3 py-2 font-medium transition-colors">当館について</a>
                </nav>
                
                <!-- 右側のアクション -->
                <div class="flex items-center space-x-4">
                    
                    <!-- 新しい言語切り替え - カスタムUI -->
                    <div id="custom-translate-wrapper">
                        <div id="language-selector">
                            <i id="language-selector-icon" class="fas fa-globe"></i>
                            <span id="language-selector-text">言語</span>
                        </div>
                        <div id="language-dropdown">
                            <div class="language-option" data-lang="ja">
                                <img src="https://flagsapi.com/JP/flat/24.png" alt="日本語" class="language-flag">
                                日本語
                            </div>
                            <div class="language-option" data-lang="en">
                                <img src="https://flagsapi.com/GB/flat/24.png" alt="English" class="language-flag">
                                English
                            </div>
                            <div class="language-option" data-lang="zh-CN">
                                <img src="https://flagsapi.com/CN/flat/24.png" alt="中文" class="language-flag">
                                中文 (简体)
                            </div>
                            <div class="language-option" data-lang="ko">
                                <img src="https://flagsapi.com/KR/flat/24.png" alt="한국어" class="language-flag">
                                한국어
                            </div>
                            <div class="language-option" data-lang="fr">
                                <img src="https://flagsapi.com/FR/flat/24.png" alt="Français" class="language-flag">
                                Français
                            </div>
                            <div class="language-option" data-lang="es">
                                <img src="https://flagsapi.com/ES/flat/24.png" alt="Español" class="language-flag">
                                Español
                            </div>
                        </div>
                    </div>
                    
                    <!-- Googleのウィジェット（非表示、裏で動作） -->
                    <div id="google_translate_element"></div>
            
                    <!-- モバイルメニューボタン -->
                    <button id="mobileMenuButton" class="lg:hidden p-2 text-gray-600 hover:text-blue-700">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- モバイルメニュー -->
        <div id="mobileMenu" class="lg:hidden hidden bg-white border-t">
            <div class="px-4 py-2 space-y-1">
                <a href="#exhibitions" class="block px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-md">展示</a>
                <a href="#research" class="block px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-md">研究</a>
                <a href="#education" class="block px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-md">教育</a>
                <a href="userguide.html" class="block px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-700 rounded-md">当館について</a>
            </div>
        </div>
    </header>
    
    <!-- メインコンテンツ -->
    <main id="main-content" class="pt-16 sm:pt-20">
        <!-- 改善されたヒーローセクション -->
        <section class="relative">
            <!-- スライダー -->
            <div class="hero-slider">
                <div class="slide active">
                    <img src="mainff1.jpeg" alt="文字入り画像メイン１">
                    <div class="slider-overlay"></div>
                </div>
                <div class="slide">
                    <img src="mainff2.jpeg" alt="歴史的ff2">
                    <div class="slider-overlay"></div>
                </div>
                <div class="slide">
                    <img src="mainff4.jpeg" alt="歴史的ff3">
                    <div class="slider-overlay"></div>
                </div>
                <div class="slide">
                    <img src="mainff3.jpeg" alt="歴史的ff4">
                    <div class="slider-overlay"></div>
                </div>
                
                <!-- スライダードット -->
                <div class="slider-dots">
                    <span class="dot active" onclick="currentSlide(1)"></span>
                    <span class="dot" onclick="currentSlide(2)"></span>
                    <span class="dot" onclick="currentSlide(3)"></span>
                    <span class="dot" onclick="currentSlide(4)"></span>
                </div>
            </div>
        </section>
        
        <!-- 改善された資料館紹介セクション -->
        <section class="py-12 sm:py-20" style="background: linear-gradient(135deg, #fce7f3 0%, #e0e7ff 100%);">
            <div class="container mx-auto px-4">
                <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-10 sm:mb-16 text-center text-gray-800">里庄町歴史民俗資料館</h2>
                
                <!-- 2枚の画像のオシャレな配置 -->
                <div class="image-composition mb-10 sm:mb-16">
                    <!-- 装飾要素 -->
                    <div class="image-accent accent-1 hidden sm:block"></div>
                    <div class="image-accent accent-2 hidden sm:block"></div>
                    
                    <!-- メイン画像1 -->
                    <div class="intro-image intro-image-1 float-animation">
                        <img src="mainff1.jpeg" alt="里庄町歴史民俗資料館の外観">
                    </div>
                    
                    <!-- メイン画像2 -->
                    <div class="intro-image intro-image-2">
                        <img src="mainff4.jpeg" alt="資料館の展示室内観">
                    </div>
                </div>
                
                <!-- 紹介文 -->
                <div class="max-w-4xl mx-auto">
                    <p class="text-base sm:text-lg text-gray-700 mb-4 sm:mb-6 leading-relaxed">
                        里庄町歴史民俗資料館で所蔵・展示している貴重な資料等をWeb上で閲覧することができるデジタルミュージアムです。
                        他言語対応やバーチャルツアー機能を実装し、より多くの方に里庄町歴史民俗資料館の魅力を発信しています。
                    </p>
                    <p class="text-base sm:text-lg text-gray-700 mb-6 sm:mb-8 leading-relaxed">
                       里庄町歴史民俗資料館の所蔵資料をご自宅等でもご覧いただけるよう、デジタルアーカイブを進めています。
                    </p>
                </div>
            </div>
        </section>

        <!-- 特集展示 -->
        <section id="exhibitions" class="py-12 sm:py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-8 sm:mb-12">
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4">注目の展示</h2>
                    <p class="text-sm sm:text-base text-gray-600 max-w-2xl mx-auto">
                        里庄町歴史民俗資料館の展示を通じて、地域の歴史や文化を深く理解することができます。
                        デジタル技術を駆使した展示で、より多くの方に里庄町歴史民俗資料館の魅力を発信します。
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8">
                    <!-- フィーチャーカード1 -->
                    <div class="card rounded-xl overflow-hidden group">
                        <div class="relative h-48 sm:h-64 overflow-hidden">
                            <img src="/api/placeholder/600/400" alt="バーチャルツアー" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                            <div class="absolute bottom-4 left-4 text-white">
                                <span class="bg-blue-600 text-xs px-2 py-1 rounded-full">歴史資料館バーチャルツアー</span>
                                <h3 class="text-lg sm:text-xl font-bold mt-2">準備中</h3>
                            </div>
                        </div>
                        <div class="p-4 sm:p-6">
                            <p class="text-sm sm:text-base text-gray-600 mb-4">
                                里庄町歴史民俗資料館をバーチャル体験できます。
                            </p>
                            <div class="flex items-center justify-between">
                                <a href="#" class="text-blue-600 hover:text-blue-700 font-semibold text-sm sm:text-base">
                                    詳細を見る
                                    <i class="fas fa-arrow-right ml-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- フィーチャーカード2 -->
                    <div class="card rounded-xl overflow-hidden group">
                        <div class="relative h-48 sm:h-64 overflow-hidden">
                            <img src="/api/placeholder/600/400" alt="3Dコレクション" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                            <div class="absolute bottom-4 left-4 text-white">
                                <span class="bg-green-600 text-xs px-2 py-1 rounded-full">3Dコンテンツ</span>
                                <h3 class="text-lg sm:text-xl font-bold mt-2">準備中</h3>
                            </div>
                        </div>
                        <div class="p-4 sm:p-6">
                            <p class="text-sm sm:text-base text-gray-600 mb-4">
                                360度自由に鑑賞できるデジタルアーカイブ。
                            </p>
                            <div class="flex items-center justify-between">
                                <a href="#" class="text-blue-600 hover:text-blue-700 font-semibold text-sm sm:text-base">
                                    詳細を見る
                                    <i class="fas fa-arrow-right ml-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- フィーチャーカード3 -->
                    <div class="card rounded-xl overflow-hidden group">
                        <div class="relative h-48 sm:h-64 overflow-hidden">
                            <img src="scsh11.png" alt="検索システム" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
                            <div class="absolute bottom-4 left-4 text-white">
                                <span class="bg-purple-600 text-xs px-2 py-1 rounded-full">資料</span>
                                <h3 class="text-lg sm:text-xl font-bold mt-2">資料検索システム</h3>
                            </div>
                        </div>
                        <div class="p-4 sm:p-6">
                            <p class="text-sm sm:text-base text-gray-600 mb-4">
                                里庄町歴史民俗資料館が所蔵する全ての資料を検索できるシステムです。
                            </p>
                            <div class="flex items-center justify-between">
                                <a href="search.html" class="text-blue-600 hover:text-blue-700 font-semibold text-sm sm:text-base">
                                    検索する
                                    <i class="fas fa-arrow-right ml-1"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- コンテンツ省略... -->
        
    </main>
    
    <!-- フッター -->
    <footer class="bg-gray-900 text-gray-300">
        <div class="container mx-auto px-4 py-10 sm:py-12">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8">
                <!-- ブランド情報 -->
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-museum text-xl sm:text-2xl text-blue-500 mr-3"></i>
                        <div>
                            <h3 class="text-white text-sm sm:text-base font-bold">里庄町歴史民俗資料館デジタルミュージアム</h3>
                            <p class="text-xs sm:text-sm">Satosho-cho Digital Museum</p>
                        </div>
                    </div>
                    <p class="mb-4 text-xs sm:text-sm">
                        里庄町歴史民俗資料館のデジタルミュージアムは、最新技術を駆使して文化遺産を保存・公開しています。
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-facebook-f text-lg sm:text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-twitter text-lg sm:text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-instagram text-lg sm:text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-youtube text-lg sm:text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <!-- リンク列1 -->
                <div>
                    <h4 class="text-white text-sm sm:text-base font-semibold mb-4">展示・コレクション</h4>
                    <ul class="space-y-2 text-xs sm:text-sm">
                        <li><a href="#" class="hover:text-white transition-colors">常設展示</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">特別展示</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">3Dコレクション</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">デジタルアーカイブ</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">バーチャルツアー</a></li>
                    </ul>
                </div>
                
                <!-- リンク列2 -->
                <div>
                    <h4 class="text-white text-sm sm:text-base font-semibold mb-4">サービス・サポート</h4>
                    <ul class="space-y-2 text-xs sm:text-sm">
                        <li><a href="#" class="hover:text-white transition-colors">利用案内</a></li>
                        <li><a href="https://katsujiringx.github.io/systemX/" class="hover:text-white transition-colors">運営元（KatsujiRingX）</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- 下部情報 -->
            <div class="mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-gray-800">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="text-xs sm:text-sm mb-4 md:mb-0">
                        &copy; 2025 里庄町歴史民俗資料館デジタルミュージアム by KatsujiRingX. All rights reserved.
                    </div>
                    <div class="flex flex-wrap gap-4 text-xs sm:text-sm">
                        <a href="#" class="hover:text-white transition-colors">プライバシーポリシー</a>
                        <a href="#" class="hover:text-white transition-colors">利用規約</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- 最適化された多言語対応スクリプト -->
    <script>
    // グローバル翻訳状態
    const translationState = {
        currentLang: 'ja',
        isTranslating: false
    };
    
    // Google翻訳初期化
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'ja',
            includedLanguages: 'en,zh-CN,ko,fr,es',
            autoDisplay: false,
            layout: google.translate.TranslateElement.FloatPosition.TOP_RIGHT
        }, 'google_translate_element');
        
        // 初期化後の処理
        setTimeout(() => {
            setupTranslationUI();
            hideGoogleTranslateElements();
            checkURLForTranslation();
        }, 1000);
    }
    
    // URLから翻訳状態を確認
    function checkURLForTranslation() {
        const hash = window.location.hash;
        if (hash && hash.indexOf('googtrans') > -1) {
            try {
                const langCode = hash.split('|')[1].replace(')', '');
                if (langCode && langCode !== 'ja') {
                    translationState.currentLang = langCode;
                    updateLanguageSelectorText(langCode);
                }
            } catch (e) {
                console.error('Error parsing translation hash:', e);
            }
        }
    }
    
    // 翻訳UI設定
    function setupTranslationUI() {
        const languageSelector = document.getElementById('language-selector');
        const languageDropdown = document.getElementById('language-dropdown');
        const languageOptions = document.querySelectorAll('.language-option');
        
        if (!languageSelector || !languageDropdown) return;
        
        // セレクタクリック時の処理
        languageSelector.addEventListener('click', function(e) {
            e.stopPropagation();
            languageDropdown.classList.toggle('show');
        });
        
        // 言語選択時の処理
        languageOptions.forEach(option => {
            option.addEventListener('click', function(e) {
                e.stopPropagation();
                const langCode = this.getAttribute('data-lang');
                
                // 既に選択中の言語なら何もしない
                if (langCode === translationState.currentLang) {
                    languageDropdown.classList.remove('show');
                    return;
                }
                
                // UI更新
                updateLanguageSelectorText(langCode);
                languageDropdown.classList.remove('show');
                
                // 翻訳実行
                changeLanguage(langCode);
            });
        });
        
        // ドキュメントクリックでドロップダウンを閉じる
        document.addEventListener('click', function() {
            languageDropdown.classList.remove('show');
        });
    }
    
    // 言語セレクタのテキスト更新
    function updateLanguageSelectorText(langCode) {
        const option = document.querySelector(`.language-option[data-lang="${langCode}"]`);
        if (option) {
            document.getElementById('language-selector-text').textContent = option.textContent.trim();
        }
    }
    
    // フィードバック表示
    function showTranslationFeedback(message, isSuccess = true) {
        const feedback = document.getElementById('translation-feedback');
        if (!feedback) return;
        
        feedback.textContent = message;
        feedback.className = isSuccess ? 'show bg-green-600' : 'show bg-red-600';
        
        setTimeout(() => {
            feedback.className = '';
        }, 3000);
    }
    
    // 言語変更処理（完全リファクタリング）
    function changeLanguage(langCode) {
        translationState.isTranslating = true;
        
        // 日本語への切り替え（リセット）
        if (langCode === 'ja') {
            resetToJapanese();
            return;
        }
        
        // 他言語への翻訳
        applyTranslation(langCode);
    }
    
    // 日本語にリセット
    function resetToJapanese() {
        // ステータス更新
        translationState.currentLang = 'ja';
        showTranslationFeedback('日本語に切り替えています...');
        
        // 1. Cookieをクリア
        clearTranslationCookies();
        
        // 2. URLハッシュをクリア
        if (window.location.hash.includes('googtrans')) {
            history.pushState('', document.title, window.location.pathname + window.location.search);
        }
        
        // 3. その他のリセット方法
        try {
            // コンボボックスリセット
            const select = document.querySelector('.goog-te-combo');
            if (select) {
                select.value = 'ja';
                select.dispatchEvent(new Event('change'));
            }
        } catch (e) {
            console.error('Error resetting translation:', e);
        }
        
        // 最終手段：ページリロード
        setTimeout(() => {
            // 翻訳状態確認
            if (document.documentElement.lang !== 'ja' || document.body.classList.contains('translated-rtl')) {
                window.location.reload();
            } else {
                showTranslationFeedback('日本語表示に戻りました');
                translationState.isTranslating = false;
            }
        }, 500);
    }
    
    // 翻訳実行
    function applyTranslation(langCode) {
        // ステータス更新
        translationState.currentLang = langCode;
        showTranslationFeedback(`${getLanguageName(langCode)}に翻訳しています...`);
        
        // 1. 直接Cookieを設定
        const domain = location.hostname.split('.').slice(-2).join('.');
        const cookieDomain = (domain.indexOf("localhost") === -1) ? domain : "localhost";
        document.cookie = `googtrans=/ja/${langCode}; path=/; domain=.${cookieDomain}`;
        document.cookie = `googtrans=/ja/${langCode}; path=/; domain=${cookieDomain}`;
        
        // 2. URLハッシュを設定
        const newHash = `#googtrans(ja|${langCode})`;
        window.location.hash = newHash;
        
        // 3. Google翻訳のセレクタを操作
        try {
            const select = document.querySelector('.goog-te-combo');
            if (select) {
                select.value = langCode;
                select.dispatchEvent(new Event('change'));
            }
        } catch (e) {
            console.error('Error applying translation:', e);
        }
        
        // 翻訳完了確認
        setTimeout(() => {
            // 翻訳状態チェック
            const isTranslated = window.location.hash.includes(langCode) || 
                                 document.documentElement.lang !== 'ja' ||
                                 document.cookie.includes(langCode);
            
            if (isTranslated) {
                showTranslationFeedback(`${getLanguageName(langCode)}に翻訳しました`);
            } else {
                showTranslationFeedback('翻訳に失敗しました。再試行してください', false);
                console.error('Translation verification failed for', langCode);
            }
            
            hideGoogleTranslateElements();
            translationState.isTranslating = false;
        }, 1000);
    }
    
    // 翻訳Cookieをクリア
    function clearTranslationCookies() {
        const domains = [
            location.hostname,
            `.${location.hostname}`,
            location.hostname.split('.').slice(-2).join('.'),
            `.${location.hostname.split('.').slice(-2).join('.')}`
        ];
        
        const paths = ['/', '/index.html'];
        
        domains.forEach(domain => {
            paths.forEach(path => {
                document.cookie = `googtrans=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${path}; domain=${domain};`;
            });
        });
    }
    
    // 言語コードから言語名を取得
    function getLanguageName(langCode) {
        const languages = {
            'ja': '日本語',
            'en': '英語',
            'zh-CN': '中国語',
            'ko': '韓国語',
            'fr': 'フランス語',
            'es': 'スペイン語'
        };
        return languages[langCode] || langCode;
    }
    
    // Google翻訳の余分な要素を非表示
    function hideGoogleTranslateElements() {
        // バナーフレーム非表示
        const bannerFrame = document.querySelector('.goog-te-banner-frame');
        if (bannerFrame) bannerFrame.style.display = 'none';
        
        // Skipクラス要素非表示
        const skipElements = document.querySelectorAll('.skiptranslate');
        skipElements.forEach(el => el.style.display = 'none');
        
        // body調整
        document.body.style.top = '0px';
        document.body.style.position = 'static';
        
        // その他の翻訳UI要素非表示
        const gadgets = document.querySelectorAll('.goog-te-gadget');
        gadgets.forEach(el => {
            const span = el.querySelector('span');
            if (span) span.style.display = 'none';
        });
    }
    
    // MutationObserverでDOM変更監視
    function watchForTranslationChanges() {
        const observer = new MutationObserver(mutations => {
            mutations.forEach(mutation => {
                if (mutation.type === 'childList' || mutation.type === 'attributes') {
                    // 翻訳UIをすぐに非表示
                    hideGoogleTranslateElements();
                    
                    // レイアウト崩れ修正
                    document.body.style.top = '0px';
                    document.body.style.position = 'static';
                }
            });
        });
        
        // bodyの監視を開始
        observer.observe(document.body, { 
            childList: true, 
            subtree: true,
            attributes: true,
            attributeFilter: ['style', 'class']
        });
    }
    
    // 読み込み完了時の処理
    window.addEventListener('load', () => {
        // ローディング画面
        const loadingScreen = document.getElementById('loadingScreen');
        setTimeout(() => {
            loadingScreen.style.opacity = '0';
            setTimeout(() => {
                loadingScreen.style.display = 'none';
            }, 500);
        }, 1000);
        
        // スライダー初期化
        initSlider();
        
        // 翻訳UI監視開始
        watchForTranslationChanges();
        
        // 定期的に翻訳UI非表示確認
        setInterval(hideGoogleTranslateElements, 1000);
    });
    
    // スライダー処理
    let slideIndex = 1;
    let slideInterval;
    
    function currentSlide(n) {
        showSlide(slideIndex = n);
    }
    
    function showSlide(n) {
        let slides = document.getElementsByClassName("slide");
        let dots = document.getElementsByClassName("dot");
        
        if (n > slides.length) {slideIndex = 1}
        if (n < 1) {slideIndex = slides.length}
        
        for (let i = 0; i < slides.length; i++) {
            slides[i].classList.remove('active');
        }
        
        for (let i = 0; i < dots.length; i++) {
            dots[i].classList.remove('active');
        }
        
        slides[slideIndex - 1].classList.add('active');
        dots[slideIndex - 1].classList.add('active');
    }
    
    function nextSlide() {
        showSlide(slideIndex += 1);
    }
    
    function startAutoSlide() {
        slideInterval = setInterval(nextSlide, 5000);
    }
    
    function stopAutoSlide() {
        clearInterval(slideInterval);
    }
    
    function initSlider() {
        showSlide(slideIndex);
        startAutoSlide();
        
        const sliderSection = document.querySelector('.hero-slider');
        if (sliderSection) {
            sliderSection.addEventListener('mouseenter', stopAutoSlide);
            sliderSection.addEventListener('mouseleave', startAutoSlide);
        }
    }
    
    // スクロールプログレスバー
    window.addEventListener('scroll', () => {
        const progressBar = document.getElementById('progressBar');
        if (!progressBar) return;
        
        const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPosition = window.scrollY;
        const progress = (scrollPosition / scrollHeight) * 100;
        progressBar.style.width = progress + '%';
    });
    
    // Cookie同意バナー
    function showCookieBanner() {
        const banner = document.getElementById('cookieBanner');
        if (!banner) return;
        
        if (!localStorage.getItem('cookieConsent')) {
            setTimeout(() => {
                banner.classList.add('show');
            }, 2000);
        }
    }
    
    function acceptCookies() {
        localStorage.setItem('cookieConsent', 'accepted');
        document.getElementById('cookieBanner').classList.remove('show');
    }
    
    function declineCookies() {
        localStorage.setItem('cookieConsent', 'declined');
        document.getElementById('cookieBanner').classList.remove('show');
    }
    
    showCookieBanner();
    
    // モバイルメニュー
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileMenu = document.getElementById('mobileMenu');
    
    if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
    }
    </script>
    
    <!-- Google翻訳スクリプト -->
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async defer></script>
</body>
</html>